<!DOCTYPE html>
<html lang='ko'>
<head>
    <meta charset="UTF-8"/>
    <title>Date 객체 활용 및 재귀함수</title>
</head>
<body>
    <div id="clock"></div>
    <button onclick="stop();">멈춰!</button>
    <script>
        // Date 객체 - 시간 정보를 활용할 수 있게 지원해주는 객체
        let date = new Date(); // 현재 시간 객체
        let year = date.getFullYear(); // 2022
        let month = date.getMonth()+1; // 0~11 (+1 해주어야 함) -- index 활용을 위함 
        let day = date.getDate(); // 월을 기준으로 현재 날짜를 반환
        let week = date.getDay(); // 요일 반환 0 ~ 6 (일요일~토요일)
        let weekArray = [`일요일`,`월요일`,`화요일`,`수요일`,`목요일`,`금요일`,`토요일`];
        let hour = date.getHours();
        let minute = date.getMinutes();
        let second = date.getSeconds();
        
        let clock = document.getElementById(`clock`);
        clock.innerHTML = year +`-`+ month +`-`+ day +`(`+ weekArray[week] +`)`+ hour +`:`+ minute +`:`+ second; 

    // 재귀함수
        let timeOut;
        function setClock(){
            let now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            let str = hours+`:`+minutes+`:`+seconds;
            document.getElementById(`clock`).innerHTML=str;
            timeOut = setTimeout(setClock,1000);
        }
        setClock();

        function stop(){
            clearTimeout(timeOut);
        }

    </script>
</body>
</html>